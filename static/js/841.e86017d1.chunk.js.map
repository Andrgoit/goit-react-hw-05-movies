{"version":3,"file":"static/js/841.e86017d1.chunk.js","mappings":"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","sources":["pages/MovieDetails/MovieDetails.styled.jsx","pages/MovieDetails/AddInformItems.js","pages/MovieDetails/MovieDetails.jsx","services/api.js"],"sourcesContent":["import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { Box } from 'components/Box';\n\nexport const StyledButtom = styled.button`\n  margin-top: ${p => p.theme.space[4]}px;\n  margin-left: ${p => p.theme.space[4]}px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  cursor: pointer;\n`;\n\nexport const SyledLink = styled(Link)`\n  color: ${p => p.theme.colors.black};\n\n  &:hover {\n    color: ${p => p.theme.colors.red};\n  }\n`;\n\nexport const StyledContainer = styled(Box)`\n  display: flex;\n  padding: ${p => p.theme.space[4]}px;\n  border-bottom: 1px solid black;\n`;\n\nexport const StyledTitle = styled.h2`\n  font-size: ${p => p.theme.fontSizes.xl};\n  font-weight: ${p => p.theme.fontWeights.bold};\n`;\n","const items = [\n  { text: 'Cast', href: 'cast' },\n  { text: 'Reviews', href: 'reviews' },\n];\n\nexport default items;\n","import { useState, useEffect } from 'react';\nimport { Outlet, useParams, useNavigate, useLocation } from 'react-router-dom';\nimport { HiOutlineArrowCircleLeft } from 'react-icons/hi';\nimport { GetMovieById } from 'services/api';\n\nimport { Box } from 'components/Box';\nimport {\n  StyledButtom,\n  SyledLink,\n  StyledContainer,\n  StyledTitle,\n} from './MovieDetails.styled';\nimport items from './AddInformItems';\n\nexport default function MovieDetails() {\n  const [movie, setMovie] = useState({});\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // если скопировать адрес фильма и перейти в отдельной закладке,\n  //   сслыки для возврата GO BACK нет, и будет ошибка.\n  // читать код ниже так:\n  // - если в location.state нет свойства \"from\" назначь на его место '/'\n  const from = location.state?.from || '/';\n\n  //обьект, котрорый показывает все динамические параметры в адресной строке\n  // в нашем случае - это id фильма, по которому будет идти поиск ниже\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const fetchMovieById = async () => {\n      try {\n        const result = await GetMovieById(movieId);\n        setMovie(result);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchMovieById();\n  }, [movieId]);\n\n  //в данном случае при нажатии на кнопку сайт переходит на один \"адрес\"\n  //назад. Это нам не подхожит\n  // const goBackPage = () => navigate(-1);\n\n  const goBackPage = () => navigate(from);\n\n  const {\n    original_title,\n    overview,\n    genres = [],\n    vote_average,\n    poster_path,\n  } = movie;\n\n  const filterGenre = genres.map(genre => genre.name).join(' ');\n  const baseImgUrl = 'https://image.tmdb.org/t/p/w500/';\n\n  const noImage =\n    'https://upload.wikimedia.org/wikipedia/commons/1/14/No_Image_Available.jpg';\n\n  return (\n    <div>\n      <StyledButtom onClick={goBackPage}>\n        <HiOutlineArrowCircleLeft size=\"16px\" /> Go back\n      </StyledButtom>\n      <StyledContainer>\n        <img\n          src={poster_path ? `${baseImgUrl}${poster_path}` : noImage}\n          alt={original_title}\n          width=\"300\"\n        />\n        <Box ml={4}>\n          <StyledTitle>{original_title}</StyledTitle>\n          <p>\n            <b>User Score:</b>\n            {vote_average}%\n          </p>\n\n          <p>\n            <b>Overview:</b>\n          </p>\n          {overview}\n          <p>\n            <b>Genres:</b>\n          </p>\n          {filterGenre}\n        </Box>\n      </StyledContainer>\n      <div>\n        <ul>\n          {items.map(({ text, href }) => (\n            <li key={text}>\n              <SyledLink state={{ from }} to={href}>\n                {text}\n              </SyledLink>\n            </li>\n          ))}\n        </ul>\n      </div>\n      <Outlet />\n    </div>\n  );\n}\n","import axios from 'axios';\n\nconst API_KEY = '83cba2c85d0df477852b094af9fbdddb';\n\nconst TREND_BASE_URL = 'https://api.themoviedb.org/3/trending/movie/day';\nconst GENRE_BASE_URL = 'https://api.themoviedb.org/3/genre/movie/list';\nconst ID_BASE_URL = 'https://api.themoviedb.org/3/movie/';\nconst SEARCH_BASE_URL = 'https://api.themoviedb.org/3/search/movie';\nconst OTHER_BASE_URL = 'https://api.themoviedb.org/3/movie/';\n\nexport const TrendingMovie = async () => {\n  try {\n    const { data } = await axios.get(`${TREND_BASE_URL}?api_key=${API_KEY}`);\n    return data.results;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const GetGenre = async () => {\n  try {\n    const { genres } = await axios.get(`${GENRE_BASE_URL}?api_key=${API_KEY}`);\n    return genres;\n  } catch (error) {\n    console.error(error);\n  }\n};\n// https://api.themoviedb.org/3/genre/movie/list?api_key=83cba2c85d0df477852b094af9fbdddb\n\nexport const GetMovieById = async id => {\n  try {\n    const { data } = await axios.get(\n      `${ID_BASE_URL}${id}?api_key=${API_KEY}&language=en-US`\n    );\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n// https://api.themoviedb.org/3/movie/766220?api_key=83cba2c85d0df477852b094af9fbdddb&language=en-US\n\nexport const GetMovieBySearch = async q => {\n  try {\n    const { data } = await axios.get(\n      `${SEARCH_BASE_URL}?api_key=${API_KEY}&query=${q}&include_adult=false`\n    );\n\n    return data.results;\n  } catch (error) {\n    console.error(error);\n  }\n};\n// https://api.themoviedb.org/3/search/movie?api_key=83cba2c85d0df477852b094af9fbdddb&query=cat&page=1&include_adult=false\n\nexport const GetCast = async id => {\n  try {\n    const { data } = await axios.get(\n      `${OTHER_BASE_URL}${id}/credits?api_key=${API_KEY}&language=en-US`\n    );\n\n    return data.cast;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// https://api.themoviedb.org/3/movie/361743/credits?api_key=83cba2c85d0df477852b094af9fbdddb&language=en-US\n\nexport const GetReviews = async id => {\n  try {\n    const { data } = await axios.get(\n      `${OTHER_BASE_URL}${id}/reviews?api_key=${API_KEY}&language=en-US`\n    );\n\n    return data.results;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// https://api.themoviedb.org/3/movie/361743/reviews?api_key=83cba2c85d0df477852b094af9fbdddb&language=en-US\n"],"names":["StyledButtom","styled","p","theme","space","SyledLink","Link","colors","black","red","StyledContainer","Box","StyledTitle","fontSizes","xl","fontWeights","bold","text","href","MovieDetails","useState","movie","setMovie","navigate","useNavigate","from","useLocation","state","movieId","useParams","useEffect","fetchMovieById","GetMovieById","result","console","log","original_title","overview","genres","vote_average","poster_path","filterGenre","map","genre","name","join","onClick","size","src","alt","width","ml","items","to","API_KEY","OTHER_BASE_URL","TrendingMovie","axios","data","results","error","id","GetMovieBySearch","q","GetCast","cast","GetReviews"],"sourceRoot":""}