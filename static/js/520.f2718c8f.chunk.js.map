{"version":3,"file":"static/js/520.f2718c8f.chunk.js","mappings":"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","sources":["components/MovieList/MovieList.styled.jsx","components/MovieList/MovieList.jsx","components/utils/api-request.js","components/SearchForm/SearchForm.styled.jsx","components/SearchForm/SearchForm.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const StyledLink = styled(Link)`\n  font-size: ${p => p.theme.fontSizes.s};\n  text-decoration: none;\n  color: ${p => p.theme.colors.black};\n\n  &:hover {\n    color: red;\n  }\n`;\n\nexport const StyledTitle = styled.p`\n  font-size: ${p => p.theme.fontSizes.l};\n  font-weight: ${p => p.theme.fontWeights.preBold};\n  color: ${p => p.theme.colors.red};\n`;\n","import React from 'react';\nimport { StyledLink, StyledTitle } from './MovieList.styled';\n\nexport default function MovieList({ movies, title = null }) {\n  return (\n    <>\n      {title && <StyledTitle>{title}</StyledTitle>}\n      <ol>\n        {movies.map(({ id, original_title }) => {\n          return (\n            <li key={id}>\n              <StyledLink to={`/movies/${id}`}>{original_title}</StyledLink>\n            </li>\n          );\n        })}\n      </ol>\n    </>\n  );\n}\n\nMovieList.defaultProps = {\n  movies: [],\n};\n","import axios from 'axios';\nconst API_KEY = '83cba2c85d0df477852b094af9fbdddb';\n\nexport const TrendingMovie = async () => {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`\n    );\n\n    return data.results;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const GetGenre = async () => {\n  try {\n    const { genres } = await axios.get(\n      `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}`\n    );\n    console.log(genres);\n    return genres;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const GetMovieById = async id => {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&language=en-US`\n    );\n\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const GetMovieBySearch = async q => {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${q}&include_adult=false`\n    );\n\n    return data.results;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// https://api.themoviedb.org/3/movie/{movie_id}/credits?api_key=<<api_key>>&language=en-US\n\n// https://api.themoviedb.org/3/movie/{movie_id}/reviews?api_key=<<api_key>>&language=en-US&page=1\n","import styled from 'styled-components';\n\nexport const StyledButton = styled.button`\n  padding: ${p => p.theme.space[2]}px;\n  background: linear-gradient(45deg, rgb(240, 244, 243), rgb(160, 167, 167));\n  border: 1px solid #b6b3b3;\n  border-radius: ${p => p.theme.radii.sm};\n  font-size: ${p => p.theme.fontSizes.s};\n  cursor: pointer;\n  box-shadow: none;\n  transform: box-shadow 300ms ease-in;\n\n  &:hover {\n    box-shadow: 0px 2px 3px #000000;\n  }\n`;\n\nexport const StylesInput = styled.input`\n  background-color: #ffffff;\n  border: ${p => p.theme.borders.none};\n  outline: ${p => p.theme.borders.none};\n  font-size: ${p => p.theme.fontSizes.s};\n`;\n\nexport const StyledForm = styled.form`\n  display: inline-block;\n  padding: ${p => p.theme.space[2]}px;\n  border: 1px solid #b6b3b3;\n  border-radius: ${p => p.theme.radii.sm};\n`;\n","import React from 'react';\nimport { Box } from '../Box';\nimport { useState } from 'react';\nimport { StyledButton, StylesInput, StyledForm } from './SearchForm.styled';\n\nexport default function SearchForm({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const onChangeValue = e => {\n    const { value } = e.target;\n    // console.log(e.target.value);\n    setQuery(value);\n  };\n\n  const onSubmitForm = e => {\n    e.preventDefault();\n    if (query === '') {\n      alert('Пустой запрос!');\n    }\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <Box p={4}>\n      <StyledForm onSubmit={onSubmitForm}>\n        <StylesInput\n          onChange={onChangeValue}\n          type=\"text\"\n          name=\"query\"\n          value={query}\n          placeholder=\"Search movie...\"\n        />\n        <StyledButton type=\"submit\">Search</StyledButton>\n      </StyledForm>\n    </Box>\n  );\n}\n","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport MovieList from 'components/MovieList/MovieList';\nimport { GetMovieBySearch } from 'components/utils/api-request';\n\nexport default function Movies() {\n  // const [query, setQuery] = useState('');\n  const [searchMovies, setSearchMovies] = useState([]);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  // считываем значение query в строке поиска и передаем в функцию поиска ниже\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (query) {\n      const fetchSearchMovies = async () => {\n        try {\n          const data = await GetMovieBySearch(query);\n          setSearchMovies(data);\n        } catch (error) {\n          console.log(error);\n        }\n      };\n      fetchSearchMovies();\n    }\n    return;\n  }, [query]);\n\n  const changeQuery = q => {\n    // setSearchParams меняет строку поиска\n    setSearchParams({ query: q });\n  };\n\n  return (\n    <div>\n      <SearchForm onSubmit={changeQuery} />\n      {searchMovies.length > 0 && <MovieList movies={searchMovies} />}\n    </div>\n  );\n}\n"],"names":["StyledLink","styled","Link","p","theme","fontSizes","s","colors","black","StyledTitle","l","fontWeights","preBold","red","MovieList","movies","title","map","id","original_title","to","defaultProps","API_KEY","TrendingMovie","axios","data","results","console","error","GetMovieById","GetMovieBySearch","q","StyledButton","space","radii","sm","StylesInput","borders","none","StyledForm","SearchForm","onSubmit","useState","query","setQuery","Box","e","preventDefault","alert","onChange","value","target","type","name","placeholder","Movies","searchMovies","setSearchMovies","useSearchParams","searchParams","setSearchParams","get","useEffect","fetchSearchMovies","log","length"],"sourceRoot":""}